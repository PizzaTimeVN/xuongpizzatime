<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω X∆∞·ªüng Pizza</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .header h1 {
            color: #d63384;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .date-display {
            color: #666;
            font-size: 1.1em;
        }
        
        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 15px;
            padding: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            gap: 10px;
        }
        
        .tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #666;
        }
        
        .tab-btn.active {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }
        
        .content-panel {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .content-panel.active {
            display: block;
        }
        
        .form-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 5px solid #ff6b6b;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .form-group {
            flex: 1;
            min-width: 200px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ff6b6b;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(45deg, #56ab2f, #a8e6cf);
            color: white;
        }
        
        .btn-warning {
            background: linear-gradient(45deg, #f093fb, #f5576c);
            color: white;
        }
        
        .btn-info {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .data-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .data-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .ingredient-row {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }
        
        .ingredient-row label {
            min-width: 150px;
            font-weight: 500;
        }
        
        .ingredient-row input {
            width: 100px;
            padding: 8px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
        }
        
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .alert-warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        
        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .status-completed {
            background: #d1f2eb;
            color: #0c7b5c;
        }
        
        .status-pending {
            background: #fef9e7;
            color: #b7791f;
        }
        
        .status-low {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-normal {
            background: #d4edda;
            color: #155724;
        }

        .google-sheets-section {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #28a745;
        }

        .sheets-setup {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #ffc107;
        }

        .export-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        .connection-status {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin-left: 10px;
        }

        .connected {
            background: #d4edda;
            color: #155724;
        }

        .disconnected {
            background: #f8d7da;
            color: #721c24;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .data-table {
                font-size: 0.9em;
            }
            
            .export-controls {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üçï Qu·∫£n L√Ω X∆∞·ªüng S·∫£n Xu·∫•t Pizza</h1>
            <div class="date-display" id="currentDate"></div>
        </div>
        
        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab(event, 'overview')">S·∫£n Xu·∫•t</button>
            <button class="tab-btn" onclick="showTab(event, 'shipment')">Xu·∫•t H√†ng</button>
            <button class="tab-btn" onclick="showTab(event, 'order')">ƒê·∫∑t H√†ng Nguy√™n Li·ªáu</button>
            <button class="tab-btn" onclick="showTab(event, 'inventory')">T·ªìn Kho</button>
            <button class="tab-btn" onclick="showTab(event, 'export')">Xu·∫•t D·ªØ Li·ªáu</button>
        </div>

        <!-- Tab S·∫£n Xu·∫•t -->
        <div id="overview" class="content-panel active">
            <h2>üè≠ Qu·∫£n L√Ω S·∫£n Xu·∫•t</h2>
            
            <div class="form-section">
                <h3>‚ûï Th√™m S·∫£n Ph·∫©m S·∫£n Xu·∫•t</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Lo·∫°i:</label>
                        <select id="productType">
                            <option value="ƒê·∫ø L">ƒê·∫ø L</option>
  <option value="ƒê·∫ø S">ƒê·∫ø S</option>
  <option value="Ph√¥ Mai L">Ph√¥ Mai L</option>
  <option value="Ph√¥ Mai S">Ph√¥ Mai S</option>
  <option value="B√≤ pz">B√≤ pz</option>
  <option value="B√≤ m√¨ √ù">B√≤ m√¨ √ù</option>
  <option value="G√†">G√†</option>
  <option value="T√¥m">T√¥m</option>
  <option value="M·ª±c">M·ª±c</option>
  <option value="C√° Ng·ª´ (b·ªãch)">C√° Ng·ª´ (b·ªãch)</option>
  <option value="XXH (b·ªãch)">XXH (b·ªãch)</option>
  <option value="XXƒê (b·ªãch)">XXƒê (b·ªãch)</option>
  <option value="Ba R·ªçi (b·ªãch)">Ba R·ªçi (b·ªãch)</option>
  <option value="Ph√¥ mai t∆∞∆°i">Ph√¥ mai t∆∞∆°i</option>
  <option value="B√≤ s·ªët cay (b·ªãch)">B√≤ s·ªët cay (b·ªãch)</option>
  <option value="S·ªët s·ªØa (b·ªãch)">S·ªët s·ªØa (b·ªãch)</option>
  <option value="S·ªët c√† (h≈©)">S·ªët c√† (h≈©)</option>
  <option value="S·ªët G√†">S·ªët G√†</option>
  <option value="Salami (b·ªãch)">Salami (b·ªãch)</option>
  <option value="ƒê√πi G√†">ƒê√πi G√†</option>
  <option value="ƒê√° Me">ƒê√° Me</option>
  <option value="G√† L·∫Øc">G√† L·∫Øc</option>
  <option value="XX Chi√™n X√π">XX Chi√™n X√π</option>
  <option value="Tr√† ƒë√†o( m·ª©t)">Tr√† ƒë√†o( m·ª©t)</option>
  <option value="KTC">KTC</option>
  <option value="Tok">Tok</option>
  <option value="Tr√† ƒë√†o mi·∫øng">Tr√† ƒë√†o mi·∫øng</option>
  <option value="N·∫•m">N·∫•m</option>
  <option value="B√¥ng C·∫£i Xanh">B√¥ng C·∫£i Xanh</option>
  <option value="Bom Ph√¥ Mai">Bom Ph√¥ Mai</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>S·ªë L∆∞·ª£ng:</label>
                        <input type="number" id="pizzaQuantity" min="1" value="1">
                    </div>
                </div>
                <button class="btn btn-primary" onclick="addProduction()">Th√™m S·∫£n Xu·∫•t</button>
            </div>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Th·ªùi Gian</th>
                        <th>Lo·∫°i Pizza</th>
                        <th>S·ªë L∆∞·ª£ng</th>
                        <th>Tr·∫°ng Th√°i</th>
                    </tr>
                </thead>
                <tbody id="productionTable">
                </tbody>
            </table>
        </div>
        
        <!-- Tab Xu·∫•t H√†ng -->
        <div id="shipment" class="content-panel">
            <h2>üöö Xu·∫•t H√†ng Cho Qu√°n</h2>
            
            <div class="form-section">
                <h3>üì§ T·∫°o ƒê∆°n Xu·∫•t H√†ng</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Qu√°n:</label>
                        <select id="shopName">
                            <option value="DH">DH</option>
                            <option value="NH">NH</option>
                            <option value="HXH">HXH</option>
                            <option value="PY">PY</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Nguy√™n Li·ªáu & S·ªë L∆∞·ª£ng:</label>
                    <div id="ingredientList"></div>
                </div>

                <button class="btn btn-success" onclick="addShipment()">T·∫°o ƒê∆°n Xu·∫•t</button>
            </div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Th·ªùi Gian</th>
                        <th>Qu√°n</th>
                        <th>Nguy√™n Li·ªáu</th>
                        <th>S·ªë L∆∞·ª£ng</th>
                        <th>Tr·∫°ng Th√°i</th>
                    </tr>
                </thead>
                <tbody id="shipmentTable">
                </tbody>
            </table>
        </div>

        <!-- Tab ƒê·∫∑t H√†ng -->
        <div id="order" class="content-panel">
            <h2>üì¶ ƒê·∫∑t H√†ng Nguy√™n Li·ªáu H√¥m Nay</h2>

            <div class="form-section">
                <h3>üõí ƒê·∫∑t H√†ng Nguy√™n Li·ªáu</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>T√™n H√†ng:</label>
                        <select id="ingredient">
                           <option value="Ph√¥ mai cam">Ph√¥ mai cam</option>
                    <option value="Ph√¥ mai Topping">Ph√¥ mai Topping</option>
                    <option value="Ph√¥ Mai Emborg">Ph√¥ Mai Emborg</option>
                    <option value="Ph√¥ mai v√†ng">Ph√¥ mai v√†ng</option>
                    <option value="Ph√¥ mai t∆∞∆°i">Ph√¥ mai t∆∞∆°i</option>
                    <option value="G√†">G√†</option>
                    <option value="ƒê√πi G√†">ƒê√πi G√†</option>
                    <option value="B·∫Øp (Kg)">B·∫Øp (Kg)</option>
                    <option value="Khoai T√¢y Chi√™n">Khoai T√¢y Chi√™n</option>
                    <option value="X√∫c X√≠ch heo">X√∫c X√≠ch heo</option>
                    <option value="X√∫c X√≠ch ƒê·ª©c">X√∫c X√≠ch ƒê·ª©c</option>
                    <option value="T√¥m">T√¥m</option>
                    <option value="M·ª±c">M·ª±c</option>
                    <option value="C√° Ng·ª´">C√° Ng·ª´</option>
                    <option value="Coca chai">Coca chai</option>
                    <option value="N∆∞·ªõc su·ªëi">N∆∞·ªõc su·ªëi</option>
                    <option value="Coca lon">Coca lon</option>
                    <option value="Bia Blance">Bia Blance</option>
                    <option value="Bia Quy Nh∆°n">Bia Quy Nh∆°n</option>
                    <option value="Bao Pizza L·ªõn">Bao Pizza L·ªõn</option>
                    <option value="D·∫ßu ƒÉn">D·∫ßu ƒÉn</option>
                    <option value="Thanh Cua">Thanh Cua</option>
                    <option value="Ba R·ªçi">Ba R·ªçi</option>
                    <option value="M√¨ √ù">M√¨ √ù</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Tr·∫°ng Th√°i:</label>
                        <select id="orderUrgency">
                            <option value="G·∫•p">G·∫•p</option>
                            <option value="Thong th·∫£">Thong th·∫£</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-warning" onclick="addOrder()">ƒê·∫∑t H√†ng</button>
            </div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Th·ªùi Gian</th>
                        <th>T√™n H√†ng</th>
                        <th>Tr·∫°ng Th√°i</th>
                    </tr>
                </thead>
                <tbody id="orderTable">
                </tbody>
            </table>
        </div>

        <!-- Tab T·ªìn Kho -->
        <div id="inventory" class="content-panel">
            <h2>üìã T·ªìn Kho Nguy√™n Li·ªáu Hi·ªán T·∫°i</h2>
            
            <div class="alert alert-warning" id="lowStockAlert" style="display: none;">
                <strong>‚ö†Ô∏è C·∫£nh b√°o:</strong> M·ªôt s·ªë nguy√™n li·ªáu s·∫Øp h·∫øt h√†ng!
            </div>
            
            <div class="form-section">
                <h3>üìù C·∫≠p Nh·∫≠t T·ªìn Kho</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Nh√≥m Nguy√™n Li·ªáu:</label>
                        <select id="groupSelect" onchange="renderGroupItems()">
                            <option value="">-- Ch·ªçn nh√≥m --</option>
                            <option value="Bao B√¨">Bao B√¨</option>
                            <option value="Gia V·ªã">Gia V·ªã</option>
                            <option value="N∆∞·ªõc">N∆∞·ªõc</option>
                            <option value="M√≥n ƒÉn nh·∫π">M√≥n ƒÉn nh·∫π</option>
                            <option value="ƒê·ªì ch·∫ø bi·∫øn">ƒê·ªì ch·∫ø bi·∫øn</option>
                            <option value="ƒê·ªì nguy√™n b·ªãch">ƒê·ªì nguy√™n b·ªãch</option>
                        </select>
                    </div>
                </div>

                <div id="ingredientListContainer"></div>
                <button class="btn btn-primary" onclick="updateGroupInventory()">C·∫≠p Nh·∫≠t</button>
            </div>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Nguy√™n Li·ªáu</th>
                        <th>T·ªìn Kho</th>
                        <th>ƒê∆°n V·ªã</th>
                        <th>M·ª©c T·ªëi Thi·ªÉu</th>
                        <th>Tr·∫°ng Th√°i</th>
                    </tr>
                </thead>
                <tbody id="inventoryTable">
                </tbody>
            </table>
        </div>

        <!-- Tab Xu·∫•t D·ªØ Li·ªáu -->
        <div id="export" class="content-panel">
            <h2>üìä Xu·∫•t D·ªØ Li·ªáu Ra Google Sheets</h2>
            
            <div class="sheets-setup">
                <h3>üîß H∆∞·ªõng D·∫´n Thi·∫øt L·∫≠p:</h3>
                <ol>
                    <li>T·∫°o m·ªôt Google Sheet m·ªõi t·∫°i <a href="https://sheets.google.com" target="_blank">sheets.google.com</a></li>
                    <li>Chia s·∫ª sheet v·ªõi quy·ªÅn "Editor" cho email: <strong>pizza-manager@example.com</strong></li>
                    <li>Sao ch√©p Sheet ID t·ª´ URL (ph·∫ßn gi·ªØa /d/ v√† /edit)</li>
                    <li>D√°n Sheet ID v√†o √¥ b√™n d∆∞·ªõi</li>
                </ol>
            </div>

            <div class="google-sheets-section">
                <h3>üîó K·∫øt N·ªëi Google Sheets</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Google Sheet ID:</label>
                        <input type="text" id="sheetId" placeholder="1ABC...XYZ" style="font-family: monospace;">
                    </div>
                    <div class="form-group">
                        <label>T√™n Sheet:</label>
                        <input type="text" id="sheetName" value="DuLieuPizza" placeholder="DuLieuPizza">
                    </div>
                </div>
                
                <div class="export-controls">
                    <button class="btn btn-info" onclick="testConnection()">Ki·ªÉm Tra K·∫øt N·ªëi</button>
                    <span class="connection-status disconnected" id="connectionStatus">Ch∆∞a k·∫øt n·ªëi</span>
                </div>
            </div>

            <div class="form-section">
                <h3>üì§ Xu·∫•t D·ªØ Li·ªáu</h3>
                <div class="export-controls">
                    <button class="btn btn-success" onclick="exportToSheets('production')">Xu·∫•t D·ªØ Li·ªáu S·∫£n Xu·∫•t</button>
                    <button class="btn btn-success" onclick="exportToSheets('shipment')">Xu·∫•t D·ªØ Li·ªáu Xu·∫•t H√†ng</button>
                    <button class="btn btn-success" onclick="exportToSheets('order')">Xu·∫•t D·ªØ Li·ªáu ƒê·∫∑t H√†ng</button>
                    <button class="btn btn-success" onclick="exportToSheets('inventory')">Xu·∫•t D·ªØ Li·ªáu T·ªìn Kho</button>
                    <button class="btn btn-warning" onclick="exportAllToSheets()">Xu·∫•t T·∫•t C·∫£ D·ªØ Li·ªáu</button>
                </div>
                
                <div class="form-row" style="margin-top: 15px;">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="includeTimestamp" checked> 
                            Bao g·ªìm th·ªùi gian xu·∫•t
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="clearBeforeExport"> 
                            X√≥a d·ªØ li·ªáu c≈© tr∆∞·ªõc khi xu·∫•t
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>üì• Xu·∫•t File CSV</h3>
                <p style="margin-bottom: 15px;">N·∫øu kh√¥ng th·ªÉ k·∫øt n·ªëi v·ªõi Google Sheets, b·∫°n c√≥ th·ªÉ t·∫£i d·ªØ li·ªáu d∆∞·ªõi d·∫°ng file CSV:</p>
                <div class="export-controls">
                    <button class="btn btn-info" onclick="downloadCSV('production')">T·∫£i CSV S·∫£n Xu·∫•t</button>
                    <button class="btn btn-info" onclick="downloadCSV('shipment')">T·∫£i CSV Xu·∫•t H√†ng</button>
                    <button class="btn btn-info" onclick="downloadCSV('order')">T·∫£i CSV ƒê·∫∑t H√†ng</button>
                    <button class="btn btn-info" onclick="downloadCSV('inventory')">T·∫£i CSV T·ªìn Kho</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // D·ªØ li·ªáu ·ª©ng d·ª•ng
        let productionData = JSON.parse(localStorage.getItem('productionData') || '[]');
        let shipmentData = JSON.parse(localStorage.getItem('shipmentData') || '[]');
        let orderData = JSON.parse(localStorage.getItem('orderData') || '[]');
        
        const ingredients = [
            "ƒê·∫ø L", "ƒê·∫ø S", "PML", "PMS", "B√≤ Pz", "B√≤ M√¨", "G√†", "T√¥m", "M·ª±c",
            "XXH", "XXƒê", "C√° Ng·ª´", "Ba R·ªçi", "B√≤ S·ªët Cay", "Thanh Cua", "SLM",
            "Ph√¥ Mai T∆∞∆°i", "B√¥ng C·∫£i Xanh", "N·∫•m", "Coca CHai", "Coca Lon",
            "N∆∞·ªõc Su·ªëi", "G√† L·∫Øc", "G√† R√°n", "XX Chi√™n x√π", "D·∫ßu ƒÉn"
        ];

        const inventory = {
    'Bao B√¨': {
    'Gi·∫•y ƒÉn': { quantity: 500, unit: 'cu·ªôn', min: 10 },
    'Ly Nh·ª±a': { quantity: 300, unit: 'l·ªëc', min: 5 },
    'Nƒ©a Nh·ª±a': { quantity: 300, unit: 'b·ªãch', min: 3 },
    'H·ªôp ƒëen m√¨ √Ω': { quantity: 150, unit: 'c√°i', min: 50 },
    'H·ªôp m√¨ √Ω ƒë√∫t l√≤': { quantity: 100, unit: 'c√°i', min: 50 },
    'Bao c√¢n b√≤': { quantity: 100, unit: 'kg', min: 0.2 },
    'Bao c√¢n m√¨ √Ω': { quantity: 100, unit: 'kg', min: 0.2 },
    'Bao Ly nh·ª±a': { quantity: 200, unit: 'kg', min: 1 },
    'Bao pizza': { quantity: 300, unit: 'kg', min: 1 },
    'Bao 1 m√≥n': { quantity: 300, unit: 'kg', min: 1 },
    'Bao r√°c': { quantity: 100, unit: 'kg', min: 1 },
    'Bao Tay cao su': { quantity: 50, unit: 'h·ªôp', min: 2 },
    'B√¨ v√†ng': { quantity: 100, unit: 'kg', min: 0.5 },
    'Gi·∫•y n√™n l√≥t h·ªôp': { quantity: 200, unit: 't·ªù', min: 100 },
    'Bao gi·∫•y tr·∫Øng': { quantity: 200, unit: 't·ªù', min: 100 },
    'Bao ƒë·∫ø nh·ªè': { quantity: 200, unit: 'kg', min: 0.5 },
    'Bao ƒë·∫ø l·ªõn': { quantity: 200, unit: 'kg', min: 0.5 },
    'Cu·ªôn in Bill': { quantity: 30, unit: 'cu·ªôn', min: 5 },
    'v√≤ng Pizza time': { quantity: 200, unit: 'c√°i', min: 100 },
    '·ªêng H√∫t': { quantity: 300, unit: 'c√°i', min: 100 }
  },
  'Gia V·ªã': {
    'Tr·ª©ng': { quantity: 100, unit: 'qu·∫£', min: 5 },
    'ƒê∆∞·ªùng': { quantity: 10, unit: 'kg', min: 2 },
    'Mu·ªëi': { quantity: 5, unit: 'kg', min: 2 },
    'R∆∞·ª£u': { quantity: 3, unit: 'chai', min: 1 },
    'X√¨ d·∫ßu': { quantity: 5, unit: 'chai', min: 2 },
    'S·ªët D·∫ßu Gi·∫•m': { quantity: 2, unit: 'chai', min: 1 },
    'Ti√™u': { quantity: 1, unit: 'kg', min: 0.5 },
    'Men': { quantity: 0.5, unit: 'kg', min: 0.2 },
    'B·ªôt G√†': { quantity: 2, unit: 'kg', min: 1 },
    'N∆∞·ªõc r·ª≠a ch√©n': { quantity: 3, unit: 'can', min: 1 },
    'S·ªët G√† Cay': { quantity: 2, unit: 'can', min: 0.3 },
    'S·ªët ∆Ø·ªõp Th·ªãt': { quantity: 3, unit: 'b·ªãch', min: 1 },
    'Mayonaise Xanh': { quantity: 4, unit: 'chai', min: 2 },
    'D·∫ßu ƒÇn': { quantity: 10, unit: 'can', min: 0.5 },
    'B∆°': { quantity: 5, unit: 'h≈©', min: 2 },
    'c√† chua paste s·ªát': { quantity: 4, unit: 'h≈©', min: 2 },
    'PM l·∫Øc g√†': { quantity: 2, unit: 'b·ªãch', min: 1 }
  },
  'N∆∞·ªõc': {
    'ƒê√° me': { quantity: 5, unit: 'l√≠t', min: 2 },
    'Coca chai': { quantity: 50, unit: 'chai', min: 6 },
    'N∆∞·ªõc su·ªëi': { quantity: 100, unit: 'chai', min: 10 },
    'CoCa lon': { quantity: 60, unit: 'lon', min: 10 },
    '7 up': { quantity: 40, unit: 'chai', min: 20 },
    'Bia Blance': { quantity: 30, unit: 'chai', min: 10 },
    'Bia Quy Nh∆°n': { quantity: 30, unit: 'chai', min: 10 },
    'Tr√† s·ªØa': { quantity: 10, unit: 'l√≠t', min: 5 },
    'Tr√¢n ch√¢u': { quantity: 2, unit: 'kg', min: 1 },
    'Tr√† ƒë√†o': { quantity: 5, unit: 'h·ªôp', min: 1 },
    'Mi·∫øng ƒê√†o': { quantity: 2, unit: 'b·ªãch', min: 10 },
    'M·ª©t ƒê√†o': { quantity: 1, unit: 'chai', min: 0.5 },
    'N∆∞·ªõc ƒê∆∞·ªùng': { quantity: 5, unit: 'l√≠t', min: 2 }
  },
  'M√≥n ƒÉn nh·∫π': {
    'B√°nh m√¨': { quantity: 30, unit: '·ªï', min: 15 },
    'B√≤ M√¨ √ù': { quantity: 10, unit: 'b·ªãch', min: 20 },
    'G√† L·∫Øc': { quantity: 10, unit: 'b·ªãch', min: 20 },
    'G√† R√°n': { quantity: 10, unit: 'ƒë√πi', min: 10 },
    'KTC': { quantity: 5, unit: 'b·ªãch', min: 20 },
    'Bom Ph√¥ Mai': { quantity: 3, unit: 'bom', min: 10 },
    'XX Chi√™n x√π': { quantity: 5, unit: 'c√¢y', min: 10 },
    'S·ªët s·ªØa': { quantity: 2, unit: 'b·ªãch', min: 10 },
    'Tokbokki (B·ªãch)': { quantity: 5, unit: 'b·ªãch', min: 10 }
  },
  'ƒê·ªì ch·∫ø bi·∫øn': {
    'Ba R·ªçi (b·ªãch)': { quantity: 10, unit: 'b·ªãch', min: 20 },
    'B√≤ Pizza': { quantity: 8, unit: 'b·ªãch', min: 20 },
    'B√≤ S·ªët Cay (b·ªãch)': { quantity: 6, unit: 'b·ªãch', min: 10 },
    'C√° ng·ª´ (b·ªãch)': { quantity: 6, unit: 'b·ªãch', min: 20 },
    'ƒê·∫ø L': { quantity: 40, unit: 'c√°i', min: 20 },
    'ƒê·∫ø S': { quantity: 60, unit: 'c√°i', min: 30 },
    'G√† Pizza': { quantity: 8, unit: 'b·ªãch', min: 20 },
    'M·ª±c': { quantity: 5, unit: 'g', min: 100 },
    'Ph√¥ Mai L (b·ªãch)': { quantity: 10, unit: 'b·ªãch', min: 50 },
    'Ph√¥ Mai S (b·ªãch)': { quantity: 12, unit: 'b·ªãch', min: 30 },
    'S·ªët c√†': { quantity: 20, unit: 'h≈©', min: 2 },
    'T√¥m': { quantity: 4, unit: 'g', min: 200 },
    'XXƒê (b·ªãch)': { quantity: 6, unit: 'b·ªãch', min: 20 },
    'XXH (b·ªãch)': { quantity: 6, unit: 'b·ªãch', min: 20 },
    'Kh√¥ G√† (b·ªãch)': { quantity: 3, unit: 'b·ªãch', min: 10 },
    'L·∫°p X∆∞·ªüng (b·ªãch)': { quantity: 5, unit: 'b·ªãch', min: 10 },
    'N·∫•m (b·ªãch)': { quantity: 4, unit: 'b·ªãch', min: 10 },
    'B√¥ng c·∫£i Xanh (B·ªãch)': { quantity: 4, unit: 'b·ªãch', min: 10 }
  },

  'ƒê·ªì nguy√™n b·ªãch': {
    'Ba R·ªçi (nguy√™n)': { quantity: 3, unit: 'kg', min: 1 },
    'B·∫Øp (nguy√™n)': { quantity: 3, unit: 'kg', min: 6 },
    'C√° ng·ª´': { quantity: 2, unit: 'h≈©', min: 1 },
    'G√† (nguy√™n)': { quantity: 4, unit: 'kg', min: 2 },
    'Khoai T√¢y Chi√™n': { quantity: 5, unit: 'kg', min: 2.5 },
    'Mayonaise': { quantity: 3, unit: 'h≈©', min: 1 },
    'M√¨ √Ω ch lu·ªôc': { quantity: 5, unit: 'b·ªãch', min: 10 },
    'Ph√¥ Mai Cam': { quantity: 3, unit: 'c√¢y', min: 3 },
    'Ph√¥ Mai Topping': { quantity: 3, unit: 'c√¢y', min: 5 },
    'Ph√¥ Mai Emborg': { quantity: 2, unit: 'c√¢y', min: 5 },
    'Ph√¥ Mai T∆∞∆°i': { quantity: 2, unit: 'vi√™n', min: 50 },
    'Ph√¥ Mai V√†ng': { quantity: 3, unit: 'c√¢y', min: 20 },
    'Thanh Cua': { quantity: 2, unit: 'h·ªôp', min: 2 },
    'Salami': { quantity: 2, unit: 'b·ªãch', min: 1 },
    'XXƒê (nguy√™n)': { quantity: 3, unit: 'kg', min: 1 },
    'XXH (nguy√™n)': { quantity: 3, unit: 'kg', min: 1 },
    'T∆∞∆°ng': { quantity: 2, unit: 'l√≠t', min: 1 },
    'T∆∞∆°ng ·ªõt chai (th√πng)': { quantity: 1, unit: 'th√πng', min: 1 },
    'T∆∞∆°ng c√† chai (th√πng)': { quantity: 1, unit: 'th√πng', min: 1 },
    'T∆∞∆°ng ·ªõt b·ªãch (th√πng)': { quantity: 1, unit: 'th√πng', min: 1 },
    'T∆∞∆°ng c√† b·ªãch (th√πng)': { quantity: 1, unit: 'th√πng', min: 1 }
  }
};


        // Hi·ªÉn th·ªã ng√†y hi·ªán t·∫°i
        function updateCurrentDate() {
            const now = new Date();
            const options = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('vi-VN', options);
        }
        
        // Chuy·ªÉn tab
        function showTab(event, tabName) {
            document.querySelectorAll('.content-panel').forEach(panel => panel.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            const activePanel = document.getElementById(tabName);
            if (activePanel) {
                activePanel.classList.add('active');
            }
            
            event.currentTarget.classList.add('active');
            
            if (tabName === 'overview') {
                updateProductionTable();
            } else if (tabName === 'shipment') {
                initIngredientList();
                updateShipmentTable();
            } else if (tabName === 'order') {
                updateOrderTable();
            } else if (tabName === 'inventory') {
                updateInventoryTable();
            }
        }

        // Kh·ªüi t·∫°o danh s√°ch nguy√™n li·ªáu cho xu·∫•t h√†ng
        function initIngredientList() {
            const container = document.getElementById("ingredientList");
            container.innerHTML = "";
            
            ingredients.forEach(name => {
                const div = document.createElement("div");
                div.classList.add("ingredient-row");
                div.innerHTML = `
                    <label>${name}:</label>
                    <input type="number" min="0" value="0" data-name="${name}">
                `;
                container.appendChild(div);
            });
        }

        // Th√™m s·∫£n xu·∫•t
        function addProduction() {
            const type = document.getElementById("productType").value;
            const quantity = parseInt(document.getElementById("pizzaQuantity").value);
            
            if (!type || quantity <= 0) {
                alert("Vui l√≤ng ch·ªçn lo·∫°i pizza v√† nh·∫≠p s·ªë l∆∞·ª£ng h·ª£p l·ªá.");
                return;
            }

            const now = new Date();
            const production = {
                time: now.toLocaleString('vi-VN'),
                type: type,
                quantity: quantity,
                status: 'ƒê√£ ghi nh·∫≠n'
            };

            productionData.unshift(production);
            localStorage.setItem('productionData', JSON.stringify(productionData));
            updateProductionTable();
            
            // Reset form
            document.getElementById("pizzaQuantity").value = 1;
        }

        // Th√™m xu·∫•t h√†ng
        function addShipment() {
            const shop = document.getElementById("shopName").value;
            const inputs = document.querySelectorAll('#ingredientList input');
            const now = new Date();

            inputs.forEach(input => {
                const qty = parseInt(input.value);
                if (qty > 0) {
                    const shipment = {
                        time: now.toLocaleString('vi-VN'),
                        shop: shop,
                        ingredient: input.dataset.name,
                        quantity: qty,
                        status: 'ƒê√£ giao'
                    };
                    shipmentData.unshift(shipment);
                }
            });

            localStorage.setItem('shipmentData', JSON.stringify(shipmentData));
            updateShipmentTable();
            
            // Reset form
            inputs.forEach(input => input.value = 0);
            alert("‚úÖ ƒê√£ t·∫°o ƒë∆°n xu·∫•t h√†ng cho qu√°n " + shop);
        }

        // Th√™m ƒë·∫∑t h√†ng
        function addOrder() {
            const ingredient = document.getElementById('ingredient').value;
            const urgency = document.getElementById('orderUrgency').value;
            const now = new Date();

            const order = {
                time: now.toLocaleString('vi-VN'),
                ingredient: ingredient,
                urgency: urgency
            };

            orderData.unshift(order);
            localStorage.setItem('orderData', JSON.stringify(orderData));
            updateOrderTable();
        }

        // C·∫≠p nh·∫≠t b·∫£ng s·∫£n xu·∫•t
        function updateProductionTable() {
            const tbody = document.getElementById('productionTable');
            tbody.innerHTML = '';
            
            productionData.forEach(item => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${item.time}</td>
                    <td>${item.type}</td>
                    <td>${item.quantity}</td>
                    <td><span class="status-badge status-completed">${item.status}</span></td>
                `;
            });
        }

        // C·∫≠p nh·∫≠t b·∫£ng xu·∫•t h√†ng
        function updateShipmentTable() {
            const tbody = document.getElementById('shipmentTable');
            tbody.innerHTML = '';
            
            shipmentData.forEach(item => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${item.time}</td>
                    <td>${item.shop}</td>
                    <td>${item.ingredient}</td>
                    <td>${item.quantity}</td>
                    <td><span class="status-badge status-completed">${item.status}</span></td>
                `;
            });
        }

        // C·∫≠p nh·∫≠t b·∫£ng ƒë·∫∑t h√†ng
        function updateOrderTable() {
            const tbody = document.getElementById('orderTable');
            tbody.innerHTML = '';
            
            orderData.forEach(item => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${item.time}</td>
                    <td>${item.ingredient}</td>
                    <td><span class="status-badge ${item.urgency === 'G·∫•p' ? 'status-low' : 'status-pending'}">${item.urgency}</span></td>
                `;
            });
        }

        // Qu·∫£n l√Ω t·ªìn kho
        function renderGroupItems() {
            const group = document.getElementById("groupSelect").value;
            const container = document.getElementById("ingredientListContainer");
            container.innerHTML = "";

            if (!group || !inventory[group]) return;

            const ingredients = inventory[group];
            const form = document.createElement("div");

            for (let item in ingredients) {
                const ing = ingredients[item];
                const color = ing.quantity < ing.min ? 'style="color:red;"' : "";

                const row = document.createElement("div");
                row.classList.add("form-row");

                row.innerHTML = `
                    <div class="form-group">
                        <label ${color}><strong>${item}</strong> (${ing.unit}) ‚Äî T·ªëi thi·ªÉu: ${ing.min}</label>
                        <input 
                            type="number" 
                            id="input-${group}-${item}" 
                            value="${ing.quantity}" 
                            min="0" 
                            onchange="checkBelowMin('${group}', '${item}')"
                        >
                    </div>
                `;

                form.appendChild(row);
            }

            container.appendChild(form);
        }

        function checkBelowMin(group, item) {
            const input = document.getElementById(`input-${group}-${item}`);
            const qty = parseInt(input.value);
            const min = inventory[group][item].min;

            input.previousElementSibling.style.color = qty < min ? "red" : "black";
        }

        function updateGroupInventory() {
            const group = document.getElementById("groupSelect").value;
            if (!group || !inventory[group]) {
                alert("‚ö†Ô∏è Vui l√≤ng ch·ªçn nh√≥m nguy√™n li·ªáu!");
                return;
            }

            const ingredients = inventory[group];
            for (let item in ingredients) {
                const input = document.getElementById(`input-${group}-${item}`);
                if (input) {
                    const newQty = parseInt(input.value);
                    if (!isNaN(newQty)) {
                        ingredients[item].quantity = newQty;
                    }
                }
            }

            localStorage.setItem("inventoryData", JSON.stringify(inventory));
            alert(`‚úÖ ƒê√£ c·∫≠p nh·∫≠t t·ªìn kho cho nh√≥m "${group}"!`);
            renderGroupItems();
            updateInventoryTable();
        }

        // C·∫≠p nh·∫≠t b·∫£ng t·ªìn kho
        function updateInventoryTable() {
            const tbody = document.getElementById('inventoryTable');
            tbody.innerHTML = '';
            
            let hasLowStock = false;
            
            Object.keys(inventory).forEach(group => {
                Object.keys(inventory[group]).forEach(ingredient => {
                    const item = inventory[group][ingredient];
                    const row = tbody.insertRow();
                    const isLow = item.quantity <= item.min;
                    
                    if (isLow) hasLowStock = true;
                    
                    row.innerHTML = `
                        <td>${ingredient}</td>
                        <td>${item.quantity}</td>
                        <td>${item.unit}</td>
                        <td>${item.min}</td>
                        <td><span class="status-badge ${isLow ? 'status-low' : 'status-normal'}">${isLow ? 'S·∫Øp h·∫øt' : 'B√¨nh th∆∞·ªùng'}</span></td>
                    `;
                });
            });
            
            // Hi·ªÉn th·ªã c·∫£nh b√°o n·∫øu c√≥ nguy√™n li·ªáu s·∫Øp h·∫øt
            const alert = document.getElementById('lowStockAlert');
            if (hasLowStock) {
                alert.style.display = 'block';
            } else {
                alert.style.display = 'none';
            }
        }

        // Google Sheets Integration Functions
        let isConnected = false;

        function testConnection() {
            const sheetId = document.getElementById('sheetId').value.trim();
            const sheetName = document.getElementById('sheetName').value.trim();
            
            if (!sheetId) {
                alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p Google Sheet ID!');
                return;
            }

            // Simulate connection test (in real implementation, this would make an actual API call)
            const statusEl = document.getElementById('connectionStatus');
            statusEl.textContent = 'ƒêang ki·ªÉm tra...';
            statusEl.className = 'connection-status';
            
            setTimeout(() => {
                // Simulate success/failure
                const success = sheetId.length > 10; // Simple validation
                
                if (success) {
                    isConnected = true;
                    statusEl.textContent = 'ƒê√£ k·∫øt n·ªëi';
                    statusEl.className = 'connection-status connected';
                    alert('‚úÖ K·∫øt n·ªëi th√†nh c√¥ng v·ªõi Google Sheets!');
                } else {
                    isConnected = false;
                    statusEl.textContent = 'K·∫øt n·ªëi th·∫•t b·∫°i';
                    statusEl.className = 'connection-status disconnected';
                    alert('‚ùå Kh√¥ng th·ªÉ k·∫øt n·ªëi. Vui l√≤ng ki·ªÉm tra l·∫°i Sheet ID!');
                }
            }, 2000);
        }

        function exportToSheets(dataType) {
            if (!isConnected) {
                alert('‚ö†Ô∏è Vui l√≤ng k·∫øt n·ªëi v·ªõi Google Sheets tr∆∞·ªõc!');
                return;
            }

            const sheetId = document.getElementById('sheetId').value.trim();
            const sheetName = document.getElementById('sheetName').value.trim();
            const includeTimestamp = document.getElementById('includeTimestamp').checked;
            const clearBefore = document.getElementById('clearBeforeExport').checked;

            let data = [];
            let headers = [];

            switch(dataType) {
                case 'production':
                    headers = ['Th·ªùi Gian', 'Lo·∫°i Pizza', 'S·ªë L∆∞·ª£ng', 'Tr·∫°ng Th√°i'];
                    data = productionData.map(item => [item.time, item.type, item.quantity, item.status]);
                    break;
                case 'shipment':
                    headers = ['Th·ªùi Gian', 'Qu√°n', 'Nguy√™n Li·ªáu', 'S·ªë L∆∞·ª£ng', 'Tr·∫°ng Th√°i'];
                    data = shipmentData.map(item => [item.time, item.shop, item.ingredient, item.quantity, item.status]);
                    break;
                case 'order':
                    headers = ['Th·ªùi Gian', 'Nguy√™n Li·ªáu', 'Tr·∫°ng Th√°i'];
                    data = orderData.map(item => [item.time, item.ingredient, item.urgency]);
                    break;
                case 'inventory':
                    headers = ['Nh√≥m', 'Nguy√™n Li·ªáu', 'T·ªìn Kho', 'ƒê∆°n V·ªã', 'M·ª©c T·ªëi Thi·ªÉu', 'Tr·∫°ng Th√°i'];
                    data = [];
                    Object.keys(inventory).forEach(group => {
                        Object.keys(inventory[group]).forEach(ingredient => {
                            const item = inventory[group][ingredient];
                            const status = item.quantity <= item.min ? 'S·∫Øp h·∫øt' : 'B√¨nh th∆∞·ªùng';
                            data.push([group, ingredient, item.quantity, item.unit, item.min, status]);
                        });
                    });
                    break;
            }

            if (includeTimestamp) {
                headers.unshift('Th·ªùi Gian Xu·∫•t');
                const exportTime = new Date().toLocaleString('vi-VN');
                data = data.map(row => [exportTime, ...row]);
            }

            // Simulate API call to Google Sheets
            simulateGoogleSheetsExport(dataType, headers, data, sheetName);
        }

        function exportAllToSheets() {
            if (!isConnected) {
                alert('‚ö†Ô∏è Vui l√≤ng k·∫øt n·ªëi v·ªõi Google Sheets tr∆∞·ªõc!');
                return;
            }

            const confirmExport = confirm('üîÑ B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xu·∫•t t·∫•t c·∫£ d·ªØ li·ªáu? Qu√° tr√¨nh n√†y c√≥ th·ªÉ m·∫•t v√†i ph√∫t.');
            if (!confirmExport) return;

            alert('üì§ B·∫Øt ƒë·∫ßu xu·∫•t t·∫•t c·∫£ d·ªØ li·ªáu...');
            
            setTimeout(() => exportToSheets('production'), 500);
            setTimeout(() => exportToSheets('shipment'), 1500);
            setTimeout(() => exportToSheets('order'), 2500);
            setTimeout(() => exportToSheets('inventory'), 3500);
            
            setTimeout(() => {
                alert('‚úÖ ƒê√£ xu·∫•t t·∫•t c·∫£ d·ªØ li·ªáu th√†nh c√¥ng!');
            }, 4500);
        }

        function simulateGoogleSheetsExport(dataType, headers, data, sheetName) {
            // This simulates the Google Sheets API call
            // In a real implementation, you would use the Google Sheets API
            
            console.log(`Exporting ${dataType} to Google Sheets:`, {
                sheetName: `${sheetName}_${dataType}`,
                headers,
                data
            });

            setTimeout(() => {
                alert(`‚úÖ ƒê√£ xu·∫•t d·ªØ li·ªáu ${getDataTypeName(dataType)} th√†nh c√¥ng!`);
            }, 1000);
        }

        function getDataTypeName(dataType) {
            const names = {
                'production': 'S·∫£n Xu·∫•t',
                'shipment': 'Xu·∫•t H√†ng', 
                'order': 'ƒê·∫∑t H√†ng',
                'inventory': 'T·ªìn Kho'
            };
            return names[dataType] || dataType;
        }

        // CSV Export Functions
        function downloadCSV(dataType) {
            let csvContent = '';
            let headers = [];
            let data = [];

            switch(dataType) {
                case 'production':
                    headers = ['Th·ªùi Gian', 'Lo·∫°i Pizza', 'S·ªë L∆∞·ª£ng', 'Tr·∫°ng Th√°i'];
                    data = productionData.map(item => [item.time, item.type, item.quantity, item.status]);
                    break;
                case 'shipment':
                    headers = ['Th·ªùi Gian', 'Qu√°n', 'Nguy√™n Li·ªáu', 'S·ªë L∆∞·ª£ng', 'Tr·∫°ng Th√°i'];
                    data = shipmentData.map(item => [item.time, item.shop, item.ingredient, item.quantity, item.status]);
                    break;
                case 'order':
                    headers = ['Th·ªùi Gian', 'Nguy√™n Li·ªáu', 'Tr·∫°ng Th√°i'];
                    data = orderData.map(item => [item.time, item.ingredient, item.urgency]);
                    break;
                case 'inventory':
                    headers = ['Nh√≥m', 'Nguy√™n Li·ªáu', 'T·ªìn Kho', 'ƒê∆°n V·ªã', 'M·ª©c T·ªëi Thi·ªÉu', 'Tr·∫°ng Th√°i'];
                    data = [];
                    Object.keys(inventory).forEach(group => {
                        Object.keys(inventory[group]).forEach(ingredient => {
                            const item = inventory[group][ingredient];
                            const status = item.quantity <= item.min ? 'S·∫Øp h·∫øt' : 'B√¨nh th∆∞·ªùng';
                            data.push([group, ingredient, item.quantity, item.unit, item.min, status]);
                        });
                    });
                    break;
            }

            // Create CSV content
            csvContent = headers.join(',') + '\n';
            data.forEach(row => {
                csvContent += row.map(cell => `"${cell}"`).join(',') + '\n';
            });

            // Create and download file
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `DuLieu_${getDataTypeName(dataType)}_${new Date().toISOString().slice(0,10)}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentDate();
            initIngredientList();
            updateProductionTable();
            updateShipmentTable();
            updateOrderTable();
            updateInventoryTable();
        });
    </script>
</body>
</html>
